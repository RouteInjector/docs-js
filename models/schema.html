
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Schema Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="injector.html" />
    
    
    <link rel="prev" href="./" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../installation/">
            
                <a href="../installation/">
            
                    
                    Installation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../installation/prerequisites.html">
            
                <a href="../installation/prerequisites.html">
            
                    
                    Prerequisites
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../installation/generator.html">
            
                <a href="../installation/generator.html">
            
                    
                    Generator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../installation/folders.html">
            
                <a href="../installation/folders.html">
            
                    
                    Folder structure
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../tutorial/">
            
                <a href="../tutorial/">
            
                    
                    Tutorial
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../tutorial/step1.html">
            
                <a href="../tutorial/step1.html">
            
                    
                    Step 1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../tutorial/step2.html">
            
                <a href="../tutorial/step2.html">
            
                    
                    Step 2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../tutorial/step3.html">
            
                <a href="../tutorial/step3.html">
            
                    
                    Step 3
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../configuration/">
            
                <a href="../configuration/">
            
                    
                    Configuration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../configuration/environment.html">
            
                <a href="../configuration/environment.html">
            
                    
                    Environment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../configuration/application.html">
            
                <a href="../configuration/application.html">
            
                    
                    Application
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../configuration/auth.html">
            
                <a href="../configuration/auth.html">
            
                    
                    Auth
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../configuration/backoffice.html">
            
                <a href="../configuration/backoffice.html">
            
                    
                    Backoffice
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../configuration/bootstrap.html">
            
                <a href="../configuration/bootstrap.html">
            
                    
                    Bootstrap
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../configuration/globals.html">
            
                <a href="../configuration/globals.html">
            
                    
                    Globals
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../configuration/log.html">
            
                <a href="../configuration/log.html">
            
                    
                    Log
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="../configuration/routes.html">
            
                <a href="../configuration/routes.html">
            
                    
                    Routes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="../configuration/session.html">
            
                <a href="../configuration/session.html">
            
                    
                    Session
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.10" data-path="../configuration/swagger.html">
            
                <a href="../configuration/swagger.html">
            
                    
                    Swagger
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="./">
            
                <a href="./">
            
                    
                    Models
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.5.1" data-path="schema.html">
            
                <a href="schema.html">
            
                    
                    Schema
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="injector.html">
            
                <a href="injector.html">
            
                    
                    Injector
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="functions.html">
            
                <a href="functions.html">
            
                    
                    Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="references.html">
            
                <a href="references.html">
            
                    
                    References
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="denormalize.html">
            
                <a href="denormalize.html">
            
                    
                    Denormalization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="dependencies.html">
            
                <a href="dependencies.html">
            
                    
                    Dependencies
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../routes/">
            
                <a href="../routes/">
            
                    
                    Routes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../routes/default.html">
            
                <a href="../routes/default.html">
            
                    
                    Default routes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../routes/custom.html">
            
                <a href="../routes/custom.html">
            
                    
                    Custom routes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../backoffice/">
            
                <a href="../backoffice/">
            
                    
                    Backoffice
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../backoffice/folders.md">
            
                <span>
            
                    
                    Folders
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../backoffice/newtypes.html">
            
                <a href="../backoffice/newtypes.html">
            
                    
                    Adding new types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../backoffice/overrideDir.md">
            
                <span>
            
                    
                    Overriding directives
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../backoffice/overrideSer.md">
            
                <span>
            
                    
                    Overriding services
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../plugins/">
            
                <a href="../plugins/">
            
                    
                    Plugins
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../plugins/create.html">
            
                <a href="../plugins/create.html">
            
                    
                    Creating a plugin
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../pages/">
            
                <a href="../pages/">
            
                    
                    Pages
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../pages/backoffice.html">
            
                <a href="../pages/backoffice.html">
            
                    
                    Backoffice
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../pages/standalone.html">
            
                <a href="../pages/standalone.html">
            
                    
                    Standalone
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../typebased/">
            
                <a href="../typebased/">
            
                    
                    TypeBased
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../typebased/references.html">
            
                <a href="../typebased/references.html">
            
                    
                    References
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../typebased/references_with_arrays.html">
            
                <a href="../typebased/references_with_arrays.html">
            
                    
                    Arrays with References
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="../typebased/arrays.html">
            
                <a href="../typebased/arrays.html">
            
                    
                    Arrays
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../devel/">
            
                <a href="../devel/">
            
                    
                    Development
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="../devel/rest.html">
            
                <a href="../devel/rest.html">
            
                    
                    Adding a new REST primitive
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../howto/">
            
                <a href="../howto/">
            
                    
                    Howto
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Schema</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="schema-file">Schema file</h1>
<p>This is the main file that defines a model. It represents the schema, i.e the list of fields (and its types) that the model will have.</p>
<h2 id="mongoose-types">Mongoose types</h2>
<p>Route Injector supports the following Mongoose types:</p>
<h4 id="string">String</h4>
<pre><code class="lang-javascript">name: {type: <span class="hljs-built_in">String</span>},
otherWay: <span class="hljs-built_in">String</span>
</code></pre>
<h4 id="number">Number</h4>
<pre><code class="lang-javascript">number: {type: <span class="hljs-built_in">Number</span>},
otherWay: <span class="hljs-built_in">Number</span>
</code></pre>
<h4 id="date">Date</h4>
<pre><code class="lang-javascript">date: {type: <span class="hljs-built_in">Date</span>},
otherWay: <span class="hljs-built_in">Date</span>
</code></pre>
<h4 id="array">Array</h4>
<pre><code class="lang-javascript">myArray:[<span class="hljs-built_in">String</span>],
otherWay: [{type: <span class="hljs-built_in">String</span>}]
</code></pre>
<h4 id="mixed">Mixed</h4>
<pre><code class="lang-javascript">mixedType: {type: mongoose.Schema.Types.Mixed}
</code></pre>
<p>As well as embedded types, for example:</p>
<pre><code class="lang-javascript">var schema = new Schema({
    name:
    {
        displayName: {type: String, class: &apos;col-md-4&apos;},
        firstName:{type: String, class: &apos;col-md-4&apos;},
        lastName: {type: String, class: &apos;col-md-4&apos;}
    },
    location:
    {
        address: { type: String, class: &apos;col-md-12&apos;},
        zip: { type: String, class: &apos;col-md-3&apos;},
        town:{ type: String, class: &apos;col-md-3&apos;},
        state: { type: String, class: &apos;col-md-3&apos;},
        country: { type: String, class: &apos;col-md-3&apos;}
    }
});
</code></pre>
<p>You can also define specific subschemas that can be reusable.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> stepSchema = <span class="hljs-keyword">new</span> Schema({
        description: {type: <span class="hljs-built_in">String</span>, format: <span class="hljs-string">&apos;textarea&apos;</span>, rows: <span class="hljs-number">5</span>},
        cookTime: {type: <span class="hljs-built_in">Number</span>, title: <span class="hljs-string">&quot;Cook Time (in seconds)&quot;</span>}
    },
    { id: <span class="hljs-literal">false</span>, _id: <span class="hljs-literal">false</span> }
);

<span class="hljs-keyword">var</span> groupSchema = <span class="hljs-keyword">new</span> Schema({
        name: {type: <span class="hljs-built_in">String</span>},
        steps: [stepSchema]
    }, 
    { id: <span class="hljs-literal">false</span>, _id: <span class="hljs-literal">false</span> }
);

<span class="hljs-keyword">var</span> schema = <span class="hljs-keyword">new</span> Schema({
        title: {type: <span class="hljs-built_in">String</span>},
        groups: [groupSchema]
}
</code></pre>
<h2 id="other-types">Other Types</h2>
<p>Route Injector also provides a few additional types not included in Mongoose.</p>
<h4 id="rimage">RImage</h4>
<pre><code class="lang-javascript">image: injector.types.RImage
</code></pre>
<h2 id="attributes">Attributes</h2>
<p>The behaviour of this types can be modified by using additional attributes. For adding attributes you should use the extended type field declaration as shown in the next example:</p>
<pre><code class="lang-javascript">text: {type:<span class="hljs-built_in">String</span>, <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">attribute</span>&gt;</span>}
</span></code></pre>
<p>The available attributes are:</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
<th>Applies to types</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#title">title</a></td>
<td>Title for the field (if not present uses a humanized version of field name)</td>
<td>All</td>
</tr>
<tr>
<td><a href="#description">description</a></td>
<td>Additional description for the field</td>
<td>All</td>
</tr>
<tr>
<td><a href="#required">required</a></td>
<td>If the field is mandatory or not</td>
<td>All</td>
</tr>
<tr>
<td><a href="#readonly">readonly</a></td>
<td>If the field is read only or not</td>
<td>All</td>
</tr>
<tr>
<td><a href="#editOnCreate">editOnCreate</a></td>
<td>When true, field is writable when creating element but readonly when editing.</td>
<td>All</td>
</tr>
<tr>
<td><a href="#unique">unique</a></td>
<td>If the field value must be unique in the collection or not</td>
<td>All</td>
</tr>
<tr>
<td><a href="#default">default</a></td>
<td>Default value of the field</td>
<td>All</td>
</tr>
<tr>
<td><a href="#format">format</a></td>
<td>Specifies a format for the type, for example HTML or Textarea</td>
<td>String, Number</td>
</tr>
<tr>
<td><a href="#class">class</a></td>
<td>CSS style for the container of the field</td>
<td>All</td>
</tr>
<tr>
<td><a href="#fieldClass">fieldClass</a></td>
<td>CSS style fot the field</td>
<td>All</td>
</tr>
<tr>
<td><a href="#minValue">minValue</a></td>
<td>Minimal value of the field</td>
<td>Number</td>
</tr>
<tr>
<td><a href="#maxValue">maxValue</a></td>
<td>Maximum value of the field</td>
<td>Number</td>
</tr>
<tr>
<td><a href="#min">min</a></td>
<td>Minimal value of the field</td>
<td>Number</td>
</tr>
<tr>
<td><a href="#max">max</a></td>
<td>Maximum value of the field</td>
<td>Number</td>
</tr>
<tr>
<td><a href="#enum">enum</a></td>
<td>Allowed values</td>
<td>String, Number</td>
</tr>
<tr>
<td><a href="#enumUrl">enumUrl</a></td>
<td>Allowed values obtained from a HTTP GET</td>
<td>String, Number</td>
</tr>
<tr>
<td><a href="#separator">separator</a></td>
<td>When using enum selector, character that separates group from text</td>
<td>String, Number</td>
</tr>
<tr>
<td><a href="#map">map</a></td>
<td>Allowed values and their representable names</td>
<td>String, Number</td>
</tr>
<tr>
<td><a href="#rows">rows</a></td>
<td>Number of rows in the textarea</td>
<td>String (Textarea)</td>
</tr>
<tr>
<td><a href="#limitToOptions">limitToOptions</a></td>
<td>If the values in the enum are recommended or mandatory</td>
<td>Boolean, Number (Enum)</td>
</tr>
<tr>
<td><a href="references.html">ref</a></td>
<td>Specifies which other model this field references</td>
<td>All</td>
</tr>
<tr>
<td><a href="denormalize.html">denormalize</a></td>
<td>Specifies how to denormalize the field (copy values from the referenced one)</td>
<td>Mixed</td>
</tr>
<tr>
<td><a href="denormalize.html">propagate</a></td>
<td>Specifies if changes in referenced fields must be propagated to this field.</td>
<td>Mixed</td>
</tr>
<tr>
<td><a href="dependencies.html">dependsOn</a></td>
<td>Specifies how to udate the field when a related field is modified</td>
<td>All</td>
</tr>
<tr>
<td><a href="#url">prefix</a></td>
<td>When using <code>format:url</code> specifies the initial part of the URL</td>
<td>String (url)</td>
</tr>
</tbody>
</table>
<p>TODO What&apos;s the correct max or maxValue ???</p>
<h3 id="class"><a name="class"></a>class</h3>
<p>This attribute specifies an additional CSS style for the the container of the field.</p>
<pre><code class="lang-javascript">rank: {type: String, class: &quot;hidden&quot;, readonly: true}
</code></pre>
<p>This example adds a rank field of type string that will not be shown, and as a safety measure is also readonly.</p>
<pre><code class="lang-javascript">phone: {type: Number, class: &apos;col-md-6&apos;}
</code></pre>
<p>The second example is a field of type number that uses the Bootstrap class col-md-6 for nice formatting of the backoffice.</p>
<h3 id="fieldclass"><a name="fieldClass"></a>fieldClass</h3>
<p>This attribute specifies an additional CSS style for the the field.</p>
<p>TODO: Example</p>
<h3 id="format"><a name="format"></a>format</h3>
<p>The format attributes allow to specify specific visualizations for general types like string or number. The allowed values (without any additional plugin) are: <a href="#url">url</a>, <a href="#html">html</a>, <a href="#textarea">textarea</a>, <a href="#rating">rating</a>, <a href="#time-seconds">time-seconds</a> and <a href="#button">button</a>.</p>
<pre><code class="lang-javascript">name: {type: <span class="hljs-built_in">String</span>, format: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Attribute</span>&gt;</span>}
</span></code></pre>
<h4 id="url"><a name="url"></a>url</h4>
<p>This format allows to render a string field as an URL link on the backoffice list. The prefix is added to the string to generate the URL, if the string value is <code>my-post</code> and the <code>prefix</code> is <code>/</code> the URL of the link will be <code>/my-post</code>.</p>
<pre><code class="lang-javascript">name: {type: <span class="hljs-built_in">String</span>, format: <span class="hljs-string">&apos;url&apos;</span>, prefix: <span class="hljs-string">&apos;/&apos;</span>}
</code></pre>
<h4 id="html"><a name="html"></a>html</h4>
<p>This format allows to render a string field as an small HTML editor on the backoffice.</p>
<pre><code class="lang-javascript">name: {type: <span class="hljs-built_in">String</span>, format: <span class="hljs-string">&apos;html&apos;</span>}
</code></pre>
<h4 id="textarea"><a name="textarea"></a>textarea</h4>
<pre><code class="lang-javascript">name: {type: <span class="hljs-built_in">String</span>, format: <span class="hljs-string">&apos;textarea&apos;</span>, rows: <span class="hljs-number">5</span>}
</code></pre>
<h4 id="rating"><a name="rating"></a>rating</h4>
<pre><code class="lang-javascript">name: {type: <span class="hljs-built_in">Number</span>, format: <span class="hljs-string">&apos;rating&apos;</span>, minValue:<span class="hljs-number">1</span>, maxValue: <span class="hljs-number">3</span>}
</code></pre>
<h4 id="time-seconds"><a name="time-seconds"></a>time-seconds</h4>
<pre><code class="lang-javascript">name: {type: <span class="hljs-built_in">Number</span>, format: <span class="hljs-string">&apos;time-seconds&apos;</span>}
</code></pre>
<h4 id="button"><a name="button"></a>button</h4>
<pre><code class="lang-javascript">action1: {type: <span class="hljs-built_in">String</span>, format: <span class="hljs-string">&apos;button&apos;</span>, action:<span class="hljs-string">&apos;api&apos;</span>, method:<span class="hljs-string">&apos;GET&apos;</span>, url:<span class="hljs-string">&apos;/my/url&apos;</span>, title: <span class="hljs-string">&apos;Call api function&apos;</span>}
action2: {type: <span class="hljs-built_in">String</span>, format: <span class="hljs-string">&apos;button&apos;</span>, action:<span class="hljs-string">&apos;function&apos;</span>,  func: <span class="hljs-string">&apos;insideFunction&apos;</span>}
</code></pre>
<h4 id="enum"><a name="enum"></a>enum</h4>
<p>Allows to choose among a fixed set of options.</p>
<pre><code class="lang-javascript">region: {
    type: <span class="hljs-built_in">String</span>,
    required: <span class="hljs-literal">true</span>,
    enum: [<span class="hljs-string">&apos;Spain&apos;</span>,<span class="hljs-string">&apos;France&apos;</span>,<span class="hljs-string">&apos;UK&apos;</span>]
}
</code></pre>
<p>It can also be get from an external file:</p>
<pre><code class="lang-javascript">region: {
    type: <span class="hljs-built_in">String</span>,
    required: <span class="hljs-literal">true</span>,
    enum: <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;./../elements/regions.js&quot;</span>),
}
</code></pre>
<p>In this case the enum values can be fixed but computed.</p>
<pre><code class="lang-javascript"><span class="hljs-comment">// regions can be computed in the javascript file</span>
<span class="hljs-keyword">var</span> regions = [
  <span class="hljs-string">&apos;REG1&apos;</span>,
  <span class="hljs-string">&apos;REG2&apos;</span>];

<span class="hljs-built_in">module</span>.exports = regions;
</code></pre>
<h4 id="separator"><a name="separator"></a>separator</h4>
<p>Enables selector grouping by choosing the character that separates group from name. See <a href="#enumUrl">this example</a>. </p>
<h4 id="enumurl"><a name="enumUrl"></a>enumUrl</h4>
<pre><code class="lang-javascript">tags: [
  {
     type: <span class="hljs-built_in">String</span>,
     separator: <span class="hljs-string">&apos;/&apos;</span>,
     limitToOptions: <span class="hljs-literal">false</span>,
     enumUrl: <span class="hljs-string">&quot;https://{{region}}.myserver.com/tags?type=raw&quot;</span>
   }
]
</code></pre>
<p>This example shows how to get the enum values from the specified URL. Angular substitutions can be used, and enum values can be limited or no to these results. In this example, also a separator is used for nicer formating the selector.</p>
<p>The returned file from the HTTP GET method should have the following format. </p>
<pre><code class="lang-javascript">[<span class="hljs-string">&quot;Group 1/Tag 1&quot;</span>,<span class="hljs-string">&quot;Group 1/Tag 2&quot;</span>,<span class="hljs-string">&quot;Group 1/Tag 3&quot;</span>, <span class="hljs-string">&quot;Group 2/Tag 4&quot;</span>, <span class="hljs-string">&quot;Group 3/Tag 5&quot;</span>]
</code></pre>
<p>Notice that each string is composed of a group plus a text separated by &apos;/&apos;. This groups the different options in the selector. The grouping is enabled by selecting the separator character with the separator option.</p>
<h4 id="map"><a name="map"></a>map</h4>
<p>Map is similar to enum but allows to specify the both the shown value in the backoffice and also the stored value in the database.</p>
<pre><code class="lang-javascript">unit: {
  type: String,
  class: &quot;col-md-2&quot;,
  map: require(&quot;../elements/units.json&quot;),
}
</code></pre>
<p>The json stores the database values as keys and the shown values in the <code>name</code> field. It is also possible to specify a <code>group</code> field to group the different </p>
<pre><code class="lang-javascript">{
    <span class="hljs-string">&quot;&quot;</span>: {<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;No Unit&quot;</span>, <span class="hljs-string">&quot;group&quot;</span>: <span class="hljs-string">&quot;Units&quot;</span>},
    <span class="hljs-string">&quot;u&quot;</span>: {<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Units (u)&quot;</span>, <span class="hljs-string">&quot;group&quot;</span>:<span class="hljs-string">&quot;Units&quot;</span>},
    <span class="hljs-string">&quot;gr&quot;</span>: {<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Grams (gr)&quot;</span>, <span class="hljs-string">&quot;group&quot;</span>: <span class="hljs-string">&quot;Units&quot;</span>},
    <span class="hljs-string">&quot;l&quot;</span>: {<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Litres (l)&quot;</span>, <span class="hljs-string">&quot;group&quot;</span>: <span class="hljs-string">&quot;Units&quot;</span>},
    <span class="hljs-string">&quot;ml&quot;</span>: {<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Mililitres (ml)&quot;</span>, <span class="hljs-string">&quot;group&quot;</span>: <span class="hljs-string">&quot;Units&quot;</span>},
    <span class="hljs-string">&quot;tbsp&quot;</span>: {<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Table spoon (tbsp)&quot;</span>, <span class="hljs-string">&quot;group&quot;</span>: <span class="hljs-string">&quot;Units&quot;</span>},
    <span class="hljs-string">&quot;tsp&quot;</span>: {<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Tea spoon (tsp)&quot;</span>, <span class="hljs-string">&quot;group&quot;</span>: <span class="hljs-string">&quot;Units&quot;</span>},
    <span class="hljs-string">&quot;cp&quot;</span>: {<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Cup (cp)&quot;</span>, <span class="hljs-string">&quot;group&quot;</span>: <span class="hljs-string">&quot;Units&quot;</span>},
    <span class="hljs-string">&quot;mc&quot;</span>: {<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Measure cup (mc)&quot;</span>, <span class="hljs-string">&quot;group&quot;</span>: <span class="hljs-string">&quot;Units&quot;</span>},
    <span class="hljs-string">&quot;coy&quot;</span>: {<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Cup of yogurt (coy)&quot;</span>, <span class="hljs-string">&quot;group&quot;</span>: <span class="hljs-string">&quot;Units&quot;</span>},
    <span class="hljs-string">&quot;pch&quot;</span>: {<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Pinch (pch)&quot;</span>, <span class="hljs-string">&quot;group&quot;</span>: <span class="hljs-string">&quot;Units&quot;</span>},
    <span class="hljs-string">&quot;drp&quot;</span>: {<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Drops (drp)&quot;</span>, <span class="hljs-string">&quot;group&quot;</span>: <span class="hljs-string">&quot;Units&quot;</span>},
    <span class="hljs-string">&quot;scht&quot;</span>: {<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Sachet (scht&quot;</span>, <span class="hljs-string">&quot;group&quot;</span>: <span class="hljs-string">&quot;Units&quot;</span>},
    <span class="hljs-string">&quot;pkt&quot;</span>: {<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Packets (pkt)&quot;</span>, <span class="hljs-string">&quot;group&quot;</span>:<span class="hljs-string">&quot;Units&quot;</span>},

    <span class="hljs-string">&quot;gra&quot;</span>: {<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Grains (gra)&quot;</span>, <span class="hljs-string">&quot;group&quot;</span>: <span class="hljs-string">&quot;Other Units&quot;</span>},
    <span class="hljs-string">&quot;clv&quot;</span>: {<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Cloves (clv)&quot;</span>, <span class="hljs-string">&quot;group&quot;</span>: <span class="hljs-string">&quot;Other Units&quot;</span>},
    <span class="hljs-string">&quot;stk&quot;</span>: {<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Sticks (stk)&quot;</span>, <span class="hljs-string">&quot;group&quot;</span>: <span class="hljs-string">&quot;Other Units&quot;</span>},
    <span class="hljs-string">&quot;bch&quot;</span>: {<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Bunch(s) (bch)&quot;</span>, <span class="hljs-string">&quot;group&quot;</span>: <span class="hljs-string">&quot;Other Units&quot;</span>},
    <span class="hljs-string">&quot;brch&quot;</span>: {<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Branches (brch)&quot;</span>, <span class="hljs-string">&quot;group&quot;</span>: <span class="hljs-string">&quot;Other Units&quot;</span>},
    <span class="hljs-string">&quot;lea&quot;</span>: {<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Leaf(ves) (lea)&quot;</span>, <span class="hljs-string">&quot;group&quot;</span>: <span class="hljs-string">&quot;Other Units&quot;</span>},
    <span class="hljs-string">&quot;slc&quot;</span>: {<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Slices (slc)&quot;</span>, <span class="hljs-string">&quot;group&quot;</span>: <span class="hljs-string">&quot;Other Units&quot;</span>},
    <span class="hljs-string">&quot;tur&quot;</span>: {<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Tours (tur)&quot;</span>, <span class="hljs-string">&quot;group&quot;</span>: <span class="hljs-string">&quot;Other Units&quot;</span>}
}
</code></pre>
<h3 id="modifiers">Modifiers</h3>
<h4 id="readonly">readonly</h4>
<p>If true, the backoffice does not allow to modify this field, see also <a href="#editOnCreate">editOnCreate</a>.</p>
<h4 id="unique">unique</h4>
<p>If true, <a href="https://docs.mongodb.com/manual/core/index-unique/" target="_blank">unique</a> notifies Mongo that this index should contain unique, i.e non repeated values.</p>
<h2 id="todo">TODO</h2>
<h3 id="dynenum">DynEnum</h3>
<p>Document dynEnum / dynMap difference with enumUrl ???</p>
<p>Seems that dynEnum shows a classic selector instead of select2</p>
<pre><code class="lang-javascript">code: {type: <span class="hljs-built_in">String</span>, dynEnum: <span class="hljs-string">&quot;/api/get-url-codes&quot;</span>},
</code></pre>
<p>The format of /api/get-url-codes is:</p>
<pre><code class="lang-javascript">[
  <span class="hljs-string">&quot;home&quot;</span>,
  <span class="hljs-string">&quot;staticPage&quot;</span>,
  <span class="hljs-string">&quot;post&quot;</span>,
  <span class="hljs-string">&quot;blogCategory&quot;</span>,
  <span class="hljs-string">&quot;blog&quot;</span>,
  <span class="hljs-string">&quot;privacyPolicy&quot;</span>,
  <span class="hljs-string">&quot;404&quot;</span>
]
</code></pre>
<h3 id="format-map-with-selectors">Format map with selectors</h3>
<table>
<thead>
<tr>
<th>widget</th>
<th>when it is selected</th>
</tr>
</thead>
<tbody>
<tr>
<td>select2</td>
<td>when exists ref</td>
</tr>
<tr>
<td>simple-select2</td>
<td>when exists map or dynEnum or dynMap</td>
</tr>
<tr>
<td>multiselect</td>
<td>when type is array and items.type is string and exists items.enum or items.map or items.enumUrl</td>
</tr>
<tr>
<td>select (angularschemaform)</td>
<td>when type is string and exists enum (1)</td>
</tr>
</tbody>
</table>
<p>(1) Seems that types can be forced <a href="https://github.com/json-schema-form/angular-schema-form/blob/master/docs/index.md#overriding-field-types-and-order" target="_blank">https://github.com/json-schema-form/angular-schema-form/blob/master/docs/index.md#overriding-field-types-and-order</a></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="./" class="navigation navigation-prev " aria-label="Previous page: Models">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="injector.html" class="navigation navigation-next " aria-label="Next page: Injector">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Schema","level":"1.5.1","depth":2,"next":{"title":"Injector","level":"1.5.2","depth":2,"path":"models/injector.md","ref":"models/injector.md","articles":[]},"previous":{"title":"Models","level":"1.5","depth":1,"path":"models/README.md","ref":"models/README.md","articles":[{"title":"Schema","level":"1.5.1","depth":2,"path":"models/schema.md","ref":"models/schema.md","articles":[]},{"title":"Injector","level":"1.5.2","depth":2,"path":"models/injector.md","ref":"models/injector.md","articles":[]},{"title":"Functions","level":"1.5.3","depth":2,"path":"models/functions.md","ref":"models/functions.md","articles":[]},{"title":"References","level":"1.5.4","depth":2,"path":"models/references.md","ref":"models/references.md","articles":[]},{"title":"Denormalization","level":"1.5.5","depth":2,"path":"models/denormalize.md","ref":"models/denormalize.md","articles":[]},{"title":"Dependencies","level":"1.5.6","depth":2,"path":"models/dependencies.md","ref":"models/dependencies.md","articles":[]}]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"models/schema.md","mtime":"2019-09-27T11:52:06.401Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-09-27T11:52:56.608Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

